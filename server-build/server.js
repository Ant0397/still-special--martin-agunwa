(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),p:""};const t=require("express");var n=e.n(t);const r=require("http");var a=e.n(r);const o=require("path");var i=e.n(o);const c=require("fs");var l=e.n(c);const u=require("helmet");var s=e.n(u);require("ignore-styles");const m=require("react");var f=e.n(m);const d=require("react-dom/server");var p=e.n(d);const h=require("react-router-dom"),g=require("react-spinners"),y=function(){return fetch("/api/content").then((function(e){return e.json()})).then((function(e){return e}))},b=function(e,t,n){return fetch("/api/content/analytic",{method:"PATCH",headers:{"Content-Type":"Application/Json",Accept:"Application/Json"},body:JSON.stringify({name:e,analytic:t,value:n})}).then((function(e){return 204!=e.status?e.json():null}))};function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=(0,m.createContext)();function _(e){var t=e.children,n=v((0,m.useState)(null),2),r=n[0],a=n[1],o=v((0,m.useState)(null),2),i=o[0],c=o[1],l=v((0,m.useState)(null),2),u=l[0],s=l[1];return(0,m.useEffect)((function(){y().then((function(e){a(e.filter((function(e){return"case-study"==e.subCategory}))),c(e.filter((function(e){return"blog"==e.subCategory}))),s(e.filter((function(e){return"video"==e.category})))}))}),[]),f().createElement(E.Provider,{value:[r,i,u]},t)}const S=require("@fortawesome/free-brands-svg-icons");function k(e){var t=e.theme,n=e.quote,r=e.children,a=e.media,o=e.mediaPosition,i=e.justifyText;return f().createElement("div",{className:"".concat(n?"content__block--quote":""," content__block  ").concat(t?"content__block--"+t:"")},a&&"left"==o?f().createElement("div",{className:"content__block__media"},a.map((function(e){return f().createElement("img",{src:e.src,alt:e.alt})}))):null,f().createElement("div",{className:"".concat(i?"justify":""," content__block__body ").concat(o?"content__block__body--margin-"+o:"")},r),a&&"right"==o?f().createElement("div",{className:"content__block__media"},a.map((function(e){return f().createElement("img",{src:e.src,alt:e.alt})}))):null)}const A=e.p+"f88cb7fd26421ec570028514d662d13d.jpg",j=e.p+"efa5957ad9cca71eaf56e065fc8a9b4d.pdf",x=require("react-pdf");function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(){var e,t,n=(e=(0,m.useState)(null),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],a=n[1],o=(0,h.useHistory)();return f().createElement(k,null,f().createElement("button",{onClick:function(){return o.goBack()},className:"btn btn--primary"},"Back"),f().createElement("h1",{className:"content__block__heading"},"CV"),f().createElement(x.Document,{file:j,onLoadError:console.error,onLoadSuccess:function(e){var t=e.numPages;a(t)},options:{cMapUrl:"cmaps/",cMapPacked:!0}},r?Array.from(new Array(r),(function(e,t){return f().createElement(x.Page,{pageNumber:t+1})})):null),f().createElement(h.Link,{to:"/"+j.split("/")[3],download:"martin-agunwa-cv.pdf",target:"_blank",className:"btn btn--primary"},"Download"))}function I(){var e=(0,h.useRouteMatch)(),t={src:A,alt:"Headshot of Martin Agunwa"};return f().createElement(h.Switch,null,f().createElement(h.Route,{exact:!0,path:e.url},f().createElement(k,{theme:"light",media:[t],mediaPosition:"right"},f().createElement("h1",{className:"content__block__heading"},"ABOUT"),f().createElement("p",null,f().createElement("strong",null,"Chukwuemeka Martin Agunwa")," is a Public Relations, Branding and Strategic Communications professional with years of cognate experience working with non-profit Non-Government Organisations in Nigeria where he has served as Programmes and Communications Consultant."),f().createElement("p",null,"At Strategic Assembly for Leadership Thrust (SALT) Initiative, he was responsible for organising the Group's periodic town hall meetings aimed at spreading a campaign of positive social value reorientation. At Lifeline where he worked for a cumulative 7-year period, he rose to become the Executive Director and led several road safety awaremess campaigns whilst also responsible for the general administration of the organisation. "),f().createElement("p",null,"In 2017, he co-founded ",f().createElement("strong",null,"Amara Consults Nigeria Ltd")," - a creative communications boutique that offers PR campaign, branding, copywriting, media relations and allied creative communications services to clients."),f().createElement("p",null,"Chukwuemeka is a Humanist, Social Advocate and a lover of art."),f().createElement("p",null,"He holds a Bachelor Degree in Mass Communication from the University of Benin, Nigeria and an MA. Public Relations and Strategic Communications from Leeds Beckett University, Leeds, UK. He is an Associate member of the Nigerian Institute of Public Relations and the Institute of Customer Relationship Management."),f().createElement(h.Link,{to:e.url+"/cv",className:"btn btn--primary"},"Learn More"))),f().createElement(h.Route,{path:e.url+"/cv"},f().createElement(C,null)))}require("react-pdf/dist/esm/Page/AnnotationLayer.css"),x.pdfjs.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(x.pdfjs.version,"/pdf.worker.js");const N=require("react-router"),M=require("react-player/youtube");var P=e.n(M);function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var q=(0,m.createContext)();function L(e){var t,n,r=e.children,a=(t=(0,m.useState)(null),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=a[0],i=a[1];return(0,m.useEffect)((function(){y().then((function(e){return i(e.map((function(e){return{name:e.name,likes:e.likes,views:e.views}})))}))}),[]),f().createElement(q.Provider,{value:[o,i]},r)}const R=require("@fortawesome/free-solid-svg-icons"),U=require("@fortawesome/react-fontawesome");function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e){var t=e.content,n=e.disableClicks,r=$((0,m.useContext)(q),2),a=r[0],o=r[1],i=$((0,m.useState)(!1),2),c=i[0],l=i[1];return(0,m.useEffect)((function(){}),[]),f().createElement("div",{className:"analytics__bar"},f().createElement("div",{className:"analytic"},f().createElement(U.FontAwesomeIcon,{icon:R.faEye}),f().createElement("p",null,a?a.filter((function(e){return e.name==t.name}))[0].views:null)),f().createElement("div",{id:"a".concat(t._id),onClick:function(e){e.preventDefault();var n=document.getElementById("a".concat(t._id));n.classList.contains("disabled")||(n.classList.add("disabled"),b(t.name,"likes",c?a.filter((function(e){return e.name==t.name}))[0].likes-1:a.filter((function(e){return e.name==t.name}))[0].likes+1).then((function(e){if(e)console.log(e.messages);else{if(o(a.map((function(e){return e.name==t.name?D(D({},e),{},{likes:c?e.likes-1:e.likes+1}):e}))),c){n.classList.remove("liked");var r=JSON.parse(window.localStorage.getItem("likedContent"));r=r.filter((function(e){return e!="a".concat(t._id)})),window.localStorage.setItem("likedContent",JSON.stringify(r))}else{n.classList.add("liked");var i=JSON.parse(window.localStorage.getItem("likedContent"))||[];i.push("a".concat(t._id)),window.localStorage.setItem("likedContent",JSON.stringify(i))}l(!c),n.classList.remove("disabled")}})))},className:"analytic ".concat(n?"disabled":"like")},f().createElement(U.FontAwesomeIcon,{icon:R.faHeart}),f().createElement("p",null,a?a.filter((function(e){return e.name==t.name}))[0].likes:null)))}const J=require("react-share");function G(e){var t=e.contentUrl,n=e.id,r=e.contentType;return f().createElement("div",{id:n||"",className:"social__container--share"},f().createElement("p",null,"Share this ",r," "),f().createElement("div",{className:"social__bar--share"},De.map((function(e){return function(e,n){switch(e.name){case"facebook":return f().createElement(J.FacebookShareButton,{url:t},n);case"twitter":return f().createElement(J.TwitterShareButton,{url:t},n);case"linkedin":return f().createElement(J.LinkedinShareButton,{url:t},n)}}(e,f().createElement(U.FontAwesomeIcon,{className:"social share",icon:e.icon}))}))))}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X(e){var t,n,r=e.theme,a=e.carouselStrip,o=e.content,i=(t=(0,m.useContext)(q),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=i[0],l=i[1],u=(0,h.useHistory)();return f().createElement("div",null,f().createElement(h.Link,{to:"video"==o.category?"/campaign":o.url,onClick:function(e){return e.preventDefault(),"video"==o.category?u.push("/campaign"):u.push(o.url)},className:"".concat(o.shortTitle?"":"content__card--no-title"," content__card ").concat(r?"content__card--"+r:""," ").concat(a?"content__card--carousel":""," ").concat("video"==o.category?"content__card--video":"content__card--image")},o.shortTitle?f().createElement("h2",{className:"content__card__heading"},o.shortTitle):null,"video"==o.category?f().createElement(P(),{onStart:function(){b(o.name,"views",o.views+1).then((function(e){e?console.log(e):l(c.map((function(e){return e.name==o.name?V(V({},e),{},{views:e.views+1}):e})))}))},controls:!0,onContextMenu:function(e){return e.preventDefault()},className:"content__card__video ".concat(a?"content__card__video--carousel":""),url:o.content}):f().createElement("img",{className:"".concat(o.shortTitle?"":"content__card__image--no-title"," content__card__image ").concat(a?"content__card__image--carousel":""),src:o.thumbnailImgSrc?o.thumbnailImgSrc:o.src,alt:o.thumbnailImgAlt?o.thumbnailImgAlt:o.alt}),o.shortTitle?f().createElement(F,{content:o,disableClicks:!(!a&&"video"==o.category)}):null))}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z(e){var t,n,r=e.content,a=(t=(0,m.useContext)(q),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=(a[0],a[1],(0,h.useHistory)());return f().createElement(k,{justifyText:!0},f().createElement("button",{onClick:function(){return o.goBack()},className:"btn btn--primary"},"Back"),f().createElement("h1",{className:"content__block__heading"},r.longTitle),f().createElement("p",null,f().createElement("i",null,f().createElement("strong",null,"By Martin C. Agunwa"))),f().createElement("img",{className:"hero",src:r.thumbnailImgSrc,alt:r.thumbnailImgAlt}),f().createElement(F,{content:r}),f().createElement(G,{id:"share",contentType:"content",contentUrl:"martinagunwa.co.uk"+r.url}))}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function te(){var e,t,n=(e=(0,m.useContext)(E),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=(n[0],n[1]),a=(0,h.useRouteMatch)();return f().createElement(N.Switch,null,f().createElement(N.Route,{exact:!0,path:a.url},f().createElement(k,null,f().createElement("h1",{className:"content__block__heading"},"BLOG"),f().createElement("div",{className:"content__card__container"},r?r.map((function(e){return f().createElement(X,{content:e})})):null))),r?r.map((function(e){return f().createElement(N.Route,{exact:!0,path:e.url},f().createElement(Z,{content:e}))})):null)}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function re(){var e,t,n=(e=(0,m.useContext)(E),t=3,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ne(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=(n[0],n[1],n[2]),a=(0,h.useRouteMatch)();return f().createElement(k,null,f().createElement("h1",{className:"content__block__heading"},"STILL SPECIAL CAMPAIGN"),f().createElement("p",null,f().createElement("i",null,"Advocacy campaign to raise awareness about special needs children (autism, cerebral palsy, down syndrome and other cognitive development sufferers) in Nigeria.")),f().createElement("p",null,"Unfortunately, there still exists widespread ignorance in many parts of Nigeria as it relates to children suffering various forms of cognitive disabilities - autism, cerebral palsy, down syndrome among others."),f().createElement("p",null,"it is very sad to see that these special kids in most instances are not only discriminated against or abused but are also being killed in many communities due to ignorant beliefs that they are curses."),f().createElement("p",null,"This campaign seeks to call attention to the plight of special needs children in Nigeria and makes a case for an end to their stigmatization while calling for their equal integration into society."),f().createElement("br",null),f().createElement("div",{className:"content__card__container"},r?r.map((function(e){return f().createElement(X,{content:e})})):null),r?f().createElement(G,{contentType:"page",contentUrl:"martinagunwa.co.uk"+a.url}):null)}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oe(){var e,t,n=(0,N.useRouteMatch)(),r=(e=(0,m.useContext)(E),t=1,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return f().createElement(N.Switch,null,f().createElement(N.Route,{exact:!0,path:n.url},f().createElement(k,null,f().createElement("h1",{className:"content__block__heading"},"CASE STUDIES"),f().createElement("div",{className:"content__card__container"},r?r.map((function(e){return f().createElement(X,{content:e})})):null))),r?r.map((function(e){return f().createElement(N.Route,{exact:!0,path:e.url},f().createElement(Z,{content:e}))})):null)}function ie(e){var t=e.text,n=e.theme,r=e.author;return f().createElement(k,{theme:n,quote:!0},f().createElement(U.FontAwesomeIcon,{className:"quotations quote__start",icon:R.faQuoteLeft,size:"4x"}),f().createElement("p",{className:"quote quote__text"},f().createElement("i",null,t)),f().createElement(U.FontAwesomeIcon,{className:"quotations quote__end",icon:R.faQuoteRight,size:"4x"}),f().createElement("p",{className:"quote quote__text quote__author"},"- ",r))}const ce=e.p+"950bb205f0e30d736f7d28b13e26b518.jpg",le=(require("react-responsive-carousel/lib/styles/carousel.min.css"),require("react-responsive-carousel"));function ue(e){var t=e.theme,n=e.blog,r=e.video,a=e.image;return f().createElement("div",{className:"carousel__strip"},f().createElement(X,{carouselStrip:!0,theme:t,content:n}),f().createElement(X,{carouselStrip:!0,theme:t,content:r}),f().createElement(X,{carouselStrip:!0,theme:t,content:a}))}const se=e.p+"15036f2b82b25f0a3d71801b99f9317d.jpg",me=e.p+"66d61a8f7bf49b7639b8fb8aaaf35d04.jpg",fe=e.p+"fe8b3630f7acee33f1e0743f2c955606.jpg",de=e.p+"0c92d40efa19f207218590bd2b6f9e0f.jpg",pe=e.p+"8c74aba5456eebffc31aa19523a29b3d.jpg",he=e.p+"dff365d7dc7f57c7c5608a064d956734.jpg",ge=e.p+"dedbed6458e4b08acf3ecabe53790cd5.jpg",ye=e.p+"36fc8c6348c572ff11a756b7f26fd75c.jpg",be=e.p+"688ae4add4f95b1b0b64f99c2be776a6.JPG",ve=e.p+"2d7478e9f636734d8df75e6e60ca885d.JPG",we=e.p+"aefdee9e624c9d5570c39b702c2b0cfc.JPG",Ee=e.p+"e1829d856330ad42305f8e2df200a9b6.JPG",_e=e.p+"d12542ec9986ea0817acb0e453cbaee1.JPG",Se=e.p+"1615d2c1c64b61b643f2d3e0b72a9c4e.jpg",ke=e.p+"2dc54c72047a8ffbc696d52ed65559c2.jpg",Ae=e.p+"390d9b32f4074967650812b19421f332.jpg",je=e.p+"38b3088786dec53470c20988ff13db32.jpg",xe=e.p+"fc0c6657105970d276540a5f23eecfe4.jpg",Oe=e.p+"7c0f4a60bb842e20e1304a9400c2d2f4.jpg",Ce=e.p+"2c61bd258dac8ddc1e66aa6297ed6479.jpg",Ie=e.p+"0cda324a6bbd649f1c4c8c22d3911aa7.jpg",Ne=e.p+"021d0abf35f1850c59c2784def24828f.jpg",Me=e.p+"8d026e3cbc34191b3c1b06591517bfed.jpg",Pe=e.p+"9947999d3a3a35bd3a924eb2cdbda234.jpg",Te=e.p+"f92f6cf5dbc5bb9dcb8f91b0405d455b.jpg";function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Le(e){var t,n,r=e.theme,a=(t=(0,m.useContext)(E),n=3,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qe(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=(a[0],a[1]),i=a[2],c=[{src:se,alt:"Martin standing with a team holding #ClaimingOurSpace signs"},{src:me,alt:"Martin with a croud of people emceeing"},{src:fe,alt:"Martin with two other people broadcasting in a radio station"},{src:de,alt:"Martin with two other people broadcasting in a radio station"},{src:pe,alt:"Selfshot of Martin at a road safety awareness event"},{src:he,alt:"Martin holding a sign advocating against police brutality"},{src:ge,alt:"Martin holding a sign advocating against police brutality"},{src:ye,alt:"Martin holding a sign advocating against police brutality"},{src:be,alt:"Martin speaking to an audience"},{src:ve,alt:"A photo of Martin with organisers of an event"},{src:we,alt:"Martin speaking to the organisers of an event"},{src:Ee,alt:"Martin at Jesus Kids' Home Nigeria"},{src:_e,alt:"Martin at Jesus Kids' Home Nigeria"},{src:Se,alt:"Martin speaking at an event"},{src:ke,alt:"Martin speaking at an event"},{src:Ae,alt:"Martin speaking at an event"},{src:je,alt:"Martin speaking at an event"},{src:xe,alt:"Martin planning #ClaimingOurSpace event"},{src:Oe,alt:"Martin standing with a team holding #ClaimingOurSpace signs"},{src:Ce,alt:"Martin planning #ClaimingOurSpace event"},{src:Ie,alt:"Martin speaking at an event"},{src:Ne,alt:"Martin standing on a hill with a team of people"},{src:Me,alt:"Martin speaking at an event"},{src:Pe,alt:"Martin speaking at an event"},{src:Te,alt:"Martin speaking at an event"}];return f().createElement(le.Carousel,{autoPlay:!0,transitionTime:1500,interval:1e4,stopOnHover:!1,showArrows:!0,showStatus:!1,showThumbs:!1,showIndicators:!1,infiniteLoop:!0},i&&o?function(){for(var e=Math.max(o.length,i.length,c.length),t=[],n=i.filter((function(e){return"still special - visualised audio"==e.name}))[0],a=0;a<e;a++){var l=Math.floor(Math.random()*o.length),u=Math.floor(Math.random()*c.length);t.push(f().createElement(ue,{theme:r,blog:o[l],video:n,image:c[u]}))}return t}():null)}function Re(e){var t=e.theme;return f().createElement("div",{className:"carousel__block carousel__block--".concat(t)},f().createElement("h1",{className:"carousel__block__heading"},"Blogs and Campaign Videos"),f().createElement(Le,{theme:t}))}function Ue(e){var t=e.theme,n={src:ce,alt:"Headshot of Martin Agunwa"};return f().createElement("div",null,f().createElement(k,{theme:t,media:[n],mediaPosition:"right"},f().createElement("p",{className:"text-large"},"Public relations professional with a good grasp of marketing communications, event planning, corporate messaging and strategic branding. Possesses excellent knowledge of organization and people management as well as exceptional writing, speaking and editing skills and strong work ethic.")),f().createElement(ie,{text:"Live for yourself and you will live in vain; Live for others and you will live again.",author:"Bob Marley"}),f().createElement(Re,{theme:t}))}var Be=[{path:"/",exact:!0,theme:"dark",text:"Home",get component(){return f().createElement(Ue,{theme:this.theme})},hasLoader:!0},{path:"/about",text:"About",component:f().createElement(I,null),theme:"light",hasNestedRoute:!0,dropdown:[{path:"/about/cv",text:"Curriculum Vitae"}]},{path:"/campaign",component:f().createElement(re,null),theme:"light",text:"Campaigns",hasLoader:!0},{path:"/case-study",component:f().createElement(oe,null),theme:"light",hasNestedRoute:!0,text:"Case Study",hasLoader:!0},{path:"/contact",text:"Contact",disabled:!0},{path:"/blog",component:f().createElement(te,null),theme:"light",hasNestedRoute:!0,text:"Blog",hasLoader:!0}],De=[{name:"twitter",icon:S.faTwitter,size:"2x",url:"https://twitter.com/eazymartinez"},{name:"facebook",icon:S.faFacebookF,size:"2x",url:"https://www.facebook.com/marayo11/"},{name:"instagram",icon:S.faInstagram,size:"2x",url:"https://www.instagram.com/eazymartinez/"},{name:"linkedin",icon:S.faLinkedin,size:"2x",url:"https://www.linkedin.com/in/martin-agunwa-168491a9/"}];function He(e){var t=e.theme;return f().createElement("div",{className:"footer__block ".concat(t?"footer__block--".concat(t):"")},f().createElement("div",{className:"footer__container ".concat(t?"footer__container--".concat(t):"")},f().createElement("p",null,"© ",(new Date).getFullYear()," by Chukwuemeka Martin Agunwa")))}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ze=(0,m.createContext)();function Fe(e){var t,n,r=e.children,a=(t=(0,m.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return $e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$e(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=a[0],i=a[1];return f().createElement(ze.Provider,{value:[o,i]},r)}function Je(){return f().createElement("div",{className:"social__bar"},De?De.map((function(e){return f().createElement("a",{className:"social",href:e.url,target:"_blank"},f().createElement(U.FontAwesomeIcon,{className:"social",icon:e.icon,size:e.size}))})):null)}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ke(e){var t,n,r=e.link,a=(t=(0,m.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ge(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=a[0],i=a[1],c=(0,h.useRouteMatch)();function l(e){"mouseover"==e.type?i(!0):i(!1)}function u(){return r.path==c.url?"nav__link--active":""}return function(e){return f().createElement("div",{onMouseLeave:l,className:"nav__link--dropdown-container"},f().createElement(h.NavLink,{onMouseOver:l,exact:!0,to:e.path,className:"nav__link ".concat(u())},e.text),e.dropdown&&o?e.dropdown.map((function(e){return f().createElement(h.NavLink,{exact:!0,to:e.path,className:"nav__link nav__link--dropdown"},e.text)})):null)}(r)}function Ve(){return f().createElement("div",{className:"nav__links"},Be.map((function(e){return e.disabled?null:f().createElement(Ke,{link:e})})))}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function We(){var e,t,n=(e=(0,m.useContext)(ze),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=(n[0],n[1]);return f().createElement("div",{onClick:function(){return r(!1)},className:"modal"},f().createElement("div",{className:"mobile__nav__container"},f().createElement(Ve,null),f().createElement(Je,null)))}function Xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ye(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ze(){var e=Xe((0,m.useState)(null),2),t=e[0],n=(e[1],Xe((0,m.useContext)(ze),2)),r=n[0],a=n[1];return f().createElement("div",{className:"navbar__nav"},t&&t<1e3?f().createElement(U.FontAwesomeIcon,{onClick:function(){return a(!r)},icon:R.faBars,size:"2x"}):f().createElement(f().Fragment,null,f().createElement(Je,null),f().createElement(Ve,null)),r?f().createElement(We,null):null)}const et=e.p+"2ad95db9a9bc55be57c4c8cd3ecb285a.png";function tt(e){var t=e.title,n=e.subtitle,r=(0,N.useHistory)();return f().createElement("div",{onClick:function(){r.push("/")},className:"navbar__brand"},f().createElement("img",{className:"logo",src:et,alt:"Website Logo"}),f().createElement("div",{className:"logo-text"},f().createElement("h1",null,t),f().createElement("p",null,n)))}function nt(){return f().createElement("div",{className:"header__block"},f().createElement("div",{className:"header"},f().createElement(tt,{title:"Chukwuemeka Martin Agunwa",subtitle:"Think. Lead. Inspire"}),f().createElement(Fe,null,f().createElement(Ze,null))))}function rt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return at(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?at(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ot(){var e=rt((0,m.useContext)(E),3),t=e[0],n=e[1],r=e[2],a=rt((0,m.useState)(!1),2),o=a[0];return a[1],(0,m.useEffect)((function(){}),[]),Be.map((function(e){return e.disabled?null:f().createElement(h.Route,{exact:!!e.exact,path:e.path},o?f().createElement("div",{className:"banner"},f().createElement("p",null,"If you are experiencing issues, try clearing your browser's cache")):null,f().createElement(nt,null),e.component,e.hasLoader?r&&n&&t?null:f().createElement(k,null,f().createElement(g.SyncLoader,{color:"#FCC62B",loading:!0})):null,f().createElement(He,{theme:e.theme}))}))}function it(){return f().createElement(_,null,f().createElement(L,null,f().createElement(h.Switch,null,f().createElement(ot,null))))}const ct=require("mongoose");var lt=e.n(ct);function ut(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}var st=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lt().connect(process.env.DB_STRING,{useNewUrlParser:!0,useUnifiedTopology:!0});case 3:t=e.sent,console.log("DB Connected: "+t.connection.db.databaseName),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error connecting to DB: "+e.t0.message),process.exit(1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ut(o,r,a,i,c,"next",e)}function c(e){ut(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),mt=new(lt().Schema)({name:{type:String,required:!0},shortTitle:{type:String,required:!0},longTitle:{type:String,required:!1},thumbnailImgSrc:{type:String,required:!1},thumbnailImgAlt:{type:String,required:!1},content:{type:String,required:!0},category:{type:String,required:!0},subCategory:{type:String,required:!0},url:{type:String,required:!1},views:{type:Number,required:!0},likes:{type:Number,required:!0}});mt.pre("save",(function(){this.name=this.name.toLowerCase()}));const ft=lt().model("Content",mt),dt=require("mammoth");var pt=e.n(dt);function ht(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}var gt=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n,r){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.baseUrl,e.next="/api/content"===e.t0?3:5;break;case 3:return a=ft,e.abrupt("break",5);case 5:return e.prev=5,e.next=8,a.findOne({name:t.body.name.toLowerCase()});case 8:o=e.sent,t.record=o||null,r(),e.next=16;break;case 13:return e.prev=13,e.t1=e.catch(5),e.abrupt("return",n.status(500).json({messages:[{type:"error"},{message:"Something went wrong: "+e.t1.message}]}));case 16:case"end":return e.stop()}}),e,null,[[5,13]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ht(o,r,a,i,c,"next",e)}function c(e){ht(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e,n,r){return t.apply(this,arguments)}}(),yt=function(e,t,n){t.setHeader("X-Powered-By","love"),t.setHeader("Content-Security-Policy","default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-src 'self' https://*.youtube.com;img-src 'self' data:;object-src 'none';script-src 'self' https://*.youtube.com;script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"),n()};function bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vt(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function wt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){vt(o,r,a,i,c,"next",e)}function c(e){vt(o,r,a,i,c,"throw",e)}i(void 0)}))}}var Et=n().Router();Et.post("/",gt,function(){var e=wt(regeneratorRuntime.mark((function e(t,n){var r,a,o,i,c,u,s,m,f,d,p,h,g,y,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.record){e.next=3;break}return e.abrupt("return",n.status(209).json({messages:[{type:"error"},{message:"Content with that name already exists"}]}));case 3:if(r=t.body,a=r.name,o=r.shortTitle,i=r.longTitle,c=r.category,u=r.subCategory,s=r.thumbnailImgSrc,m=r.thumbnailImgAlt,f=r.streamLink,d=r.path,p=r.likes,h=r.views,g="/".concat(u,"/").concat(o.toLowerCase().replace(/(!|-|<|>|\+|#|\(|\)|{|}|\[|\]|=|"|£|\$|%|\^|&|\*|:|@|\'|\/|\.|,|\/|\?)/g,"").replace(/( |_)/g,"-")),"video"==c){e.next=11;break}return e.next=8,pt().convertToHtml({path:d}).then((function(e){return e.value}));case 8:y=e.sent,e.next=12;break;case 11:y=f;case 12:if(!s){e.next=16;break}l().readFile(s,null,function(){var e=wt(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="data:image/".concat(s.split(".")[1],";base64,").concat(Buffer.from(n).toString("base64")),b=new ft({name:a,shortTitle:o,longTitle:i,thumbnailImgSrc:r,thumbnailImgAlt:m,content:y,category:c,subCategory:u,url:g,likes:p,views:h}),e.next=4,b.save();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=19;break;case 16:return b=new ft({name:a,shortTitle:o,content:y,category:c,subCategory:u,likes:p,views:h}),e.next=19,b.save();case 19:return e.abrupt("return",n.status(201).json({messages:[{type:"success"},{message:"".concat(c," successfully uploaded")}]}));case 22:return e.prev=22,e.t0=e.catch(0),e.abrupt("return",n.status(500).json({messages:[{type:"error"},{message:"Something went wrong: "+e.t0.message}]}));case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t,n){return e.apply(this,arguments)}}()),Et.get("/",function(){var e=wt(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ft.find();case 3:return r=e.sent,e.abrupt("return",n.json(r));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.status(500).json({messages:[{type:"error"},{message:"Something went wrong: "+e.t0.message}]}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),Et.patch("/analytic",gt,function(){var e=wt(regeneratorRuntime.mark((function e(t,n){var r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.record){e.next=3;break}return e.abrupt("return",n.status(404).json({messages:[{type:"error"},{message:"Article not found"}]}));case 3:return r=t.body,a=r.analytic,o=r.value,e.next=6,t.record.updateOne(bt({},a,o));case 6:return e.abrupt("return",n.sendStatus(204));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",n.status(500).json({messages:[{type:"error"},{message:"Something went wrong: "+e.t0.message}]}));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}());const _t=Et;var St=n()();St.use(s()()),St.use(n().json());var kt=process.env.PORT||4e3;function At(e,t){var n=i().resolve(__dirname,"../","public","index.html"),r=p().renderToString(f().createElement(h.StaticRouter,{location:e.url,context:{}},f().createElement(it,null)));l().readFile(n,"utf-8",(function(e,n){return e?(console.error(e),t.status(500).send("Something went wrong, please check server logs")):t.status(200).send(n.replace('<div id="root"></div>','<div id="root">'.concat(r,"</div>")))}))}a().createServer(St).listen(kt,(function(){console.log("server running in ".concat("production"," on port ").concat(kt))})),st(),Be.forEach((function(e){St.get(e.path,yt,(function(e,t){return At(e,t)})),e.hasNestedRoute&&St.get("".concat(e.path,"/:id"),yt,(function(e,t){return At(e,t)}))})),St.use(n().static("public")),St.use("/api/content",yt,_t)})();